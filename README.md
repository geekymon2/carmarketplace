# Car Marketplace

Microservices App for Car Marketplace

## Status

**ui** <br/>
[![build](https://github.com/geekymon2/carmarketplace-ui/actions/workflows/build.yml/badge.svg)](https://github.com/geekymon2/carmarketplace-ui/actions/workflows/build.yml) &nbsp;&nbsp; ![Docker Image Version (latest by date)](https://img.shields.io/docker/v/geekymon2/cm-ui) &nbsp;&nbsp; ![Docker Image Size (latest by date)](https://img.shields.io/docker/image-size/geekymon2/cm-ui)

**apigateway** <br/>
[![build](https://github.com/geekymon2/carmarketplace-apigateway/actions/workflows/build.yml/badge.svg)](https://github.com/geekymon2/carmarketplace-apigateway/actions/workflows/build.yml) &nbsp;&nbsp; [![codecov](https://codecov.io/gh/geekymon2/carmarketplace-apigateway/branch/main/graph/badge.svg?token=XTL0XCZ4JI)](https://codecov.io/gh/geekymon2/carmarketplace-apigateway) &nbsp;&nbsp; ![Docker Image Version (latest by date)](https://img.shields.io/docker/v/geekymon2/cm-apigateway) &nbsp;&nbsp; ![Docker Image Size (latest by date)](https://img.shields.io/docker/image-size/geekymon2/cm-apigateway)

**car-info-service** <br/>
[![build](https://github.com/geekymon2/carmarketplace-car-info-svc/actions/workflows/build.yml/badge.svg)](https://github.com/geekymon2/carmarketplace-car-info-svc/actions/workflows/build.yml) &nbsp;&nbsp; [![codecov](https://codecov.io/gh/geekymon2/carmarketplace-car-info-svc/branch/main/graph/badge.svg?token=LH7ATDIHTB)](https://codecov.io/gh/geekymon2/carmarketplace-car-info-svc) &nbsp;&nbsp; ![Docker Image Version (latest by date)](https://img.shields.io/docker/v/geekymon2/cm-car-info-svc) &nbsp;&nbsp; ![Docker Image Size (latest by date)](https://img.shields.io/docker/image-size/geekymon2/cm-car-info-svc)

**car-listing-service** <br/>
[![build](https://github.com/geekymon2/carmarketplace-car-listing-svc/actions/workflows/build.yml/badge.svg)](https://github.com/geekymon2/carmarketplace-car-listing-svc/actions/workflows/build.yml) &nbsp;&nbsp; [![codecov](https://codecov.io/gh/geekymon2/carmarketplace-car-listing-svc/branch/main/graph/badge.svg?token=LH7ATDIHTB)](https://codecov.io/gh/geekymon2/carmarketplace-car-listing-svc) &nbsp;&nbsp; ![Docker Image Version (latest by date)](https://img.shields.io/docker/v/geekymon2/cm-car-listing-svc) &nbsp;&nbsp; ![Docker Image Size (latest by date)](https://img.shields.io/docker/image-size/geekymon2/cm-car-listing-svc)

**user-service** <br/>
[![build](https://github.com/geekymon2/carmarketplace-user-svc/actions/workflows/build.yml/badge.svg)](https://github.com/geekymon2/carmarketplace-user-svc/actions/workflows/build.yml) &nbsp;&nbsp; [![codecov](https://codecov.io/gh/geekymon2/carmarketplace-user-svc/branch/main/graph/badge.svg?token=LH7ATDIHTB)](https://codecov.io/gh/geekymon2/carmarketplace-user-svc) &nbsp;&nbsp; ![Docker Image Version (latest by date)](https://img.shields.io/docker/v/geekymon2/cm-user-svc) &nbsp;&nbsp; ![Docker Image Size (latest by date)](https://img.shields.io/docker/image-size/geekymon2/cm-user-svc)

**discovery-server** <br/>
[![build](https://github.com/geekymon2/carmarketplace-discovery-server/actions/workflows/build.yml/badge.svg)](https://github.com/geekymon2/carmarketplace-discovery-server/actions/workflows/build.yml) &nbsp;&nbsp; [![codecov](https://codecov.io/gh/geekymon2/carmarketplace-discovery-server/branch/main/graph/badge.svg?token=LH7ATDIHTB)](https://codecov.io/gh/geekymon2/carmarketplace-discovery-server) &nbsp;&nbsp; ![Docker Image Version (latest by date)](https://img.shields.io/docker/v/geekymon2/cm-discovery-server) &nbsp;&nbsp; ![Docker Image Size (latest by date)](https://img.shields.io/docker/image-size/geekymon2/cm-discovery-server)

**config-server** <br/>
[![build](https://github.com/geekymon2/carmarketplace-config-server/actions/workflows/build.yml/badge.svg)](https://github.com/geekymon2/carmarketplace-config-server/actions/workflows/build.yml) &nbsp;&nbsp; [![codecov](https://codecov.io/gh/geekymon2/carmarketplace-config-server/branch/main/graph/badge.svg?token=LH7ATDIHTB)](https://codecov.io/gh/geekymon2/carmarketplace-config-server) &nbsp;&nbsp; ![Docker Image Version (latest by date)](https://img.shields.io/docker/v/geekymon2/cm-config-server) &nbsp;&nbsp; ![Docker Image Size (latest by date)](https://img.shields.io/docker/image-size/geekymon2/cm-config-server)


## Related Git Repos

* [carmarketplace-ui](https://github.com/geekymon2/carmarketplace-ui) - UI
* [carmarketplace-apigateway](https://github.com/geekymon2/carmarketplace-apigateway) - Api Gateway
* [carmarketplace-car-info-svc](https://github.com/geekymon2/carmarketplace-car-info-svc) - Car Info Services
* [carmarketplace-car-listing-svc](https://github.com/geekymon2/carmarketplace-car-listing-svc) - Car Listing Service
* [carmarketplace-user-svc](https://github.com/geekymon2/carmarketplace-user-svc) - User Service
* [carmarketplace-imgstore-svc](https://github.com/geekymon2/carmarketplace-imagestore-svc) - Image Store Service
* [carmarketplace-config-server](https://github.com/geekymon2/carmarketplace-config-server) - Config Server
* [carmarketplace-discovery-server](https://github.com/geekymon2/carmarketplace-discovery-server) - Discovery Server
* [carmarketplace-config](https://github.com/geekymon2/carmarketplace-config) - Configuration

## DockerHub Images
* https://hub.docker.com/repository/docker/geekymon2/cm-ui
* https://hub.docker.com/repository/docker/geekymon2/cm-apigateway
* https://hub.docker.com/repository/docker/geekymon2/cm-car-info-svc
* https://hub.docker.com/repository/docker/geekymon2/cm-car-listing-svc
* https://hub.docker.com/repository/docker/geekymon2/cm-user-svc
* https://hub.docker.com/repository/docker/geekymon2/cm-imgstore-svc
* https://hub.docker.com/repository/docker/geekymon2/cm-config-server
* https://hub.docker.com/repository/docker/geekymon2/cm-discovery-server

## Technologies Used
* Angular
* NodeJS
* Spring Boot 3.x
* Spring Cloud 2023.x
* Spring Cloud Config
* Netflix Discovery
* Spring Cloud Gateway
* JUnit 5
* Open API Docs
* Model Mapper
* Java 17
* Lombok
* Jacoco Code Coverage
* Docker
* Docker Compose
* Maven
* Spring JPA
* H2 database
* MySQL

## Features
* H2 database for running in test profile for execution of integration testing
* JUnit 5 for unit and integration testing
* Netflix Discovery service for automatic service discovery
* Spring Cloud Config Server for centralised config
* Swagger is included in all services
* Aggregated Swagger Documentation

## Architecture
TODO

## Environment Build
* Builds are automated via GitHub Actions
* For each service build scripts are present in .github/workflows/build.yml
* Build process
  * checkout -> build -> test -> codecov -> docker image -> upload to dockerhub

## Environment Deployment
* TODO

## Local Build
* Local Environment Requirements
  * Install and ensure MySQL database IS running.
  * Check application.yml for connection properties
  * Create DB Schemas for Services that need datastore.
  * 
  
* Local Build Steps
- First build the parent pom. This is needed before others can be built.
  * mvn -f pom.xml install -N
- Build again to also build the core module. Core module is a dependency across other services.
  * mvn -f pom.xml install
- Now you can go and build all services under carmarketplace repos.

## Local Development
